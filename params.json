{"name":"php-webhook","tagline":"Simple Github Webhook Server","body":"# What is it for?\r\n\r\nphp-webhook is a simple webhook server to use with github webhooks. Altough I know that there are several webhook servers out there, we did not wanted to install another language like go, python or else on our php based project servers. So I wrote this litte tool to be used with the already installed php version on our servers.\r\n\r\n# Installation\r\n\r\n##### 1. With GitHub or Composer\r\n\r\nGitHub\r\n```\r\ngit clone https://github.com/Kuvvu/php-webhook.git /opt/webhook\r\n```\r\n\r\nComposer\r\n```\r\ncomposer create-project kuvvu/php-webhook:dev-master /opt/webhook\r\n```\r\n\r\n##### 2. Install Composer Dependencies\r\n\r\n```\r\ncd /opt/webhook\r\ncomposer install\r\n```\r\n\r\n##### 3. Create Config File\r\n\r\n```\r\ncp config.json.example config.json\r\n```\r\n\r\nand fill out the variables accordingly (example)\r\n\r\n```\r\n{\r\n  \"php-webhook\": \"cd /opt/webhook && git pull\"\r\n}\r\n```\r\n\r\n##### 4. Create .env File\r\n\r\n```\r\ncp .env.example .env\r\n```\r\n\r\nand fill out the variables accordingly (example)\r\n\r\n```\r\nSECRET=967B3F47-16D9-4583-B966-F2497968DE61\r\nCONFIG=\"/opt/webhook/config.json\"\r\n\r\nSMTP = mail.mailserver.com\r\nSMTP_USER = user\r\nSMTP_PASS = password\r\nEMAIL = receipient email\r\n```\r\n\r\n##### 5. Install WebHook service\r\n\r\nYou can change the User and Port within the webhook.service file according to your needs. Beware that the webhook service will execute all configured commands with this user.\r\n\r\n```\r\ncd /etc/systemd/system\r\nln -s /opt/webhook/webhook.service webhook.service\r\nsystemctl enable webhook.service\r\nsystemctl start webhook.service\r\n```\r\n","note":"Don't delete this file! It's used internally to help with page regeneration."}